<!doctype html>
<html>
<head> <title> 포인터와 배열 </title> </head>

<style>
p {
	border: 1px solid #ccc;
	padding: 10px;
	margin: 10px;
}
	.align-left {text-align:left; }
</style>
	
<body>	
<h1> 포인터와 배열 </h1>

	<p class="align-left">

		[1]					<br>
		#include <stdio.h>			<br>
							<p>
		int main()				<br>
		{					<br>
		    char a[8];				<br>
		    char *ptr;				<br>
							<p>
		    a[0] = 'a';				<br>
		    a[1] = 'b';				<br>
		    a[2] = 'c';				<br>
		    a[3] = 'd';				<br>
		    a[4] = 'e';				<br>
		    a[5] = 'f';				<br>
		    a[6] = 'g';				<br>
		    a[7] = '\0';			<br>
							<p>
		    ptr = a;				<br>
		    printf("%c\n", *ptr);		<br>
							<p>
		    ptr = ptr + 3;			<br>
		    printf("%c\n", *ptr);		<br>
							<p>
		    return 0;				<br>
		}					<br>

	</p>
	
	<br>	
	위 예제를 실행하면 "a"와 "d"라는 문자가 출력됩니다.
	위 예제 프로그램은 먼저 7개의 문자와 종료 문자까지 포함한 8개 크기 배열(문자열)을 선언했습니다. 그 후 char형 포인터를 선언했습니다. 포인터형에는 "*"를 붙입니다.
	위 예제는 ptr이라는 char형 포인터에 배열 a의 시작 주소를 할당합니다. 그리고 첫 번째 printf 함수는 ptr이 나타내는 주소의 끝인 종료 문자까지 표시합니다. C언어 포인터 변수 앞에 "*"를 쓰면 포인터가 가리키는 주소에 포함된 내용을 의미합니다.

	다음, ptr에 3을 더합니다. ptr에 3을 더하는 것은 ptr이 가리키는 주소를 3번지 만큼 이동한다는 의미입니다. 위 예제에서는 먼저 배열 a의 주소를 ptr에 대입했으므로 ptr 위치 3개를 이동하여 a[3]인 'd'를 가리키는 것입니다.

	따라서 *ptr의 내용을 표시하는 두 번째 printf는 "d"라는 결과를 표시합니다.

	[2]
	#include <stdio.h>

	int main()
	{
	    char a[8];
	    char *ptr;
	    int i;

	    a[0] = 'a';
	    a[1] = 'b';
	    a[2] = 'c';
	    a[3] = 'd';
	    a[4] = 'e';
	    a[5] = 'f';
	    a[6] = 'g';
	    a[7] = '\0';

	    ptr = a;
	    *ptr = 'Z';

	    ptr += 3;
	    *ptr = 'W';

	    printf("%s\n", a);

	    return 0;
	}

	위 예제 출력 결과는 어떨까요?
	위 예제를 실행하면 문자열 a의 글자 번째와 네 번째 문자가 변경됩니다.

	문자열 a의 내용은 포인터 변수 ptr을 통해 변경됩니다. 처음에는 ptr이 a의 시작을 보여줍니다. ptr이 a의 시작을 나타내고 있을 때 "Z"라는 문자가 *ptr에 대입됨에 따라, a의 첫 번째 문자는 "a"에서 "Z"로 변경됩니다.

	마찬가지로 4번째 문자도 "d"에서 "W"로 변경됩니다.

	이처럼 C언어 포인터를 사용하여 포인터가 가리키는 데이터를 변경할 수 있습니다.

	[3]
	#include <stdio.h>

	int main()
	{
	    int a = 1;
	    int *ptr;

	    ptr = &a;

	    *ptr = 128;

	    printf("%d\n", a);

	    return 0;
	}

	위 예제를 실행하면 '1'이 아니라 '128'이라는 문자가 표시됩니다.
	위 예제 프로그램에서는 먼저 변수 'a'를 선언하며 1로 초기화합니다. 이후 프로그램에선 a 변수에 대한 직접적인 변경은 시도하지 않습니다.

	int형 포인터 변수 "ptr"에 변수 "a" 주소를 할당합니다. 그 후, "*ptr"에 "128"이라는 값을 할당합니다. 포인터 변수 앞에 '*'를 쓰면, "포인터가 가리키는 주소"라는 뜻입니다.

	따라서 "a"의 주소를 나타냅니다. ptr이 가리키는 대상이라고 하면 "*ptr을 통해 변수 a에 기록한다"라고 이해할 수 있습니다


	[4]
	#include <stdio.h>

	void func()
	{
	    printf("function\n");
	}

	int main()
	{
	    void (*ptr)();

	    ptr = &func;

	    (*ptr)();

	    return 0;
	}

	위 예제를 실행하면 "function"이라는 문자열이 출력됩니다. <br>
	위 프로그램에서 함수 포인터 "ptr"을 선언합니다. 함수 포인터에 "func"라는 함수 포인터를 대입합니다. 그리고 "*ptr"을 이용하여 "ptr"이 가리키는 func()를 실행할 수 있습니다.	 <br>

</body>

</html>
